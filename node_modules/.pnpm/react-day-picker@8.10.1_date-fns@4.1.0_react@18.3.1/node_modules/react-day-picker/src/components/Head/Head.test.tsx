import { RenderResult, screen } from '@testing-library/react';
import { DayPickerProps } from 'DayPicker';

import { customRender } from 'test/render';

import { Head } from './Head';

let container: HTMLElement;
let view: RenderResult;

function setup(dayPickerProps: DayPickerProps = {}) {
  view = customRender(
    <table>
      <Head />
    </table>,
    dayPickerProps
  );
  container = view.container.firstChild as HTMLTableCellElement;
}

const dayPickerProps = {
  styles: {
    head: { color: &apos;red&apos; },
    head_row: { color: &apos;blue&apos; },
    head_cell: { color: &apos;green&apos; }
  },
  classNames: {
    head: &apos;foo&apos;,
    head_row: &apos;foo_row&apos;,
    head_cell: &apos;foo_head-cell&apos;
  }
};

describe(&apos;when rendered&apos;, () => {
  beforeEach(() => {
    setup(dayPickerProps);
  });

  test(&apos;thead should have the `head` style&apos;, () => {
    expect(container.firstChild).toHaveStyle(dayPickerProps.styles.head);
  });

  test(&apos;thead should have the `head` class&apos;, () => {
    expect(container.firstChild).toHaveClass(dayPickerProps.classNames.head);
  });
});

describe(&apos;when using a custom HeadRow component&apos;, () => {
  beforeEach(() => {
    setup({
      ...dayPickerProps,
      components: {
        HeadRow: () => (
          <tr>
            <td>custom head</td>
          </tr>
        )
      }
    });
  });

  test('should render the custom component', () => {
    expect(screen.getByText('custom head')).toBeInTheDocument();
  });
});
