let unpack = require('caniuse-lite/dist/unpacker/feature')

function browsersSort(a, b) {
  a = a.split(' ')
  b = b.split(' ')
  if (a[0] > b[0]) {
    return 1
  } else if (a[0] < b[0]) {
    return -1
  } else {
    return Math.sign(parseFloat(a[1]) - parseFloat(b[1]))
  }
}

// Convert Can I Use data
function f(data, opts, callback) {
  data = unpack(data)

  if (!callback) {
    ;[callback, opts] = [opts, {}]
  }

  let match = opts.match || /\sx($|\s)/
  let need = []

  for (let browser in data.stats) {
    let versions = data.stats[browser]
    for (let version in versions) {
      let support = versions[version]
      if (support.match(match)) {
        need.push(browser + ' ' + version)
      }
    }
  }

  callback(need.sort(browsersSort))
}

// Add data for all properties
let result = {}

function prefix(names, data) {
  for (let name of names) {
    result[name] = Object.assign({}, data)
  }
}

function add(names, data) {
  for (let name of names) {
    result[name].browsers = result[name].browsers
      .concat(data.browsers)
      .sort(browsersSort)
  }
}

module.exports = result

// Border Radius
let prefixBorderRadius = require('caniuse-lite/data/features/border-radius')

f(prefixBorderRadius, browsers =>
  prefix(
    [
      &apos;border-radius&apos;,
      &apos;border-top-left-radius&apos;,
      &apos;border-top-right-radius&apos;,
      &apos;border-bottom-right-radius&apos;,
      &apos;border-bottom-left-radius&apos;
    ],
    {
      browsers,
      feature: &apos;border-radius&apos;,
      mistakes: [&apos;-khtml-&apos;, &apos;-ms-&apos;, &apos;-o-&apos;]
    }
  )
)

// Box Shadow
let prefixBoxshadow = require(&apos;caniuse-lite/data/features/css-boxshadow&apos;)

f(prefixBoxshadow, browsers =>
  prefix([&apos;box-shadow&apos;], {
    browsers,
    feature: &apos;css-boxshadow&apos;,
    mistakes: [&apos;-khtml-&apos;]
  })
)

// Animation
let prefixAnimation = require(&apos;caniuse-lite/data/features/css-animation&apos;)

f(prefixAnimation, browsers =>
  prefix(
    [
      &apos;animation&apos;,
      &apos;animation-name&apos;,
      &apos;animation-duration&apos;,
      &apos;animation-delay&apos;,
      &apos;animation-direction&apos;,
      &apos;animation-fill-mode&apos;,
      &apos;animation-iteration-count&apos;,
      &apos;animation-play-state&apos;,
      &apos;animation-timing-function&apos;,
      &apos;@keyframes&apos;
    ],
    {
      browsers,
      feature: &apos;css-animation&apos;,
      mistakes: [&apos;-khtml-&apos;, &apos;-ms-&apos;]
    }
  )
)

// Transition
let prefixTransition = require(&apos;caniuse-lite/data/features/css-transitions&apos;)

f(prefixTransition, browsers =>
  prefix(
    [
      &apos;transition&apos;,
      &apos;transition-property&apos;,
      &apos;transition-duration&apos;,
      &apos;transition-delay&apos;,
      &apos;transition-timing-function&apos;
    ],
    {
      browsers,
      feature: &apos;css-transitions&apos;,
      mistakes: [&apos;-khtml-&apos;, &apos;-ms-&apos;]
    }
  )
)

// Transform 2D
let prefixTransform2d = require(&apos;caniuse-lite/data/features/transforms2d&apos;)

f(prefixTransform2d, browsers =>
  prefix([&apos;transform&apos;, &apos;transform-origin&apos;], {
    browsers,
    feature: &apos;transforms2d&apos;
  })
)

// Transform 3D
let prefixTransforms3d = require(&apos;caniuse-lite/data/features/transforms3d&apos;)

f(prefixTransforms3d, browsers => {
  prefix([&apos;perspective&apos;, &apos;perspective-origin&apos;], {
    browsers,
    feature: &apos;transforms3d&apos;
  })
  return prefix([&apos;transform-style&apos;], {
    browsers,
    feature: &apos;transforms3d&apos;,
    mistakes: [&apos;-ms-&apos;, &apos;-o-&apos;]
  })
})

f(prefixTransforms3d, { match: /y\sx|y\s#2/ }, browsers =>
  prefix([&apos;backface-visibility&apos;], {
    browsers,
    feature: &apos;transforms3d&apos;,
    mistakes: [&apos;-ms-&apos;, &apos;-o-&apos;]
  })
)

// Gradients
let prefixGradients = require(&apos;caniuse-lite/data/features/css-gradients&apos;)

f(prefixGradients, { match: /y\sx/ }, browsers =>
  prefix(
    [
      &apos;linear-gradient&apos;,
      &apos;repeating-linear-gradient&apos;,
      &apos;radial-gradient&apos;,
      &apos;repeating-radial-gradient&apos;
    ],
    {
      browsers,
      feature: &apos;css-gradients&apos;,
      mistakes: [&apos;-ms-&apos;],
      props: [
        &apos;background&apos;,
        &apos;background-image&apos;,
        &apos;border-image&apos;,
        &apos;mask&apos;,
        &apos;list-style&apos;,
        &apos;list-style-image&apos;,
        &apos;content&apos;,
        &apos;mask-image&apos;
      ]
    }
  )
)

f(prefixGradients, { match: /a\sx/ }, browsers => {
  browsers = browsers.map(i => {
    if (/firefox|op/.test(i)) {
      return i
    } else {
      return `${i} old`
    }
  })
  return add(
    [
      &apos;linear-gradient&apos;,
      &apos;repeating-linear-gradient&apos;,
      &apos;radial-gradient&apos;,
      &apos;repeating-radial-gradient&apos;
    ],
    {
      browsers,
      feature: &apos;css-gradients&apos;
    }
  )
})

// Box sizing
let prefixBoxsizing = require(&apos;caniuse-lite/data/features/css3-boxsizing&apos;)

f(prefixBoxsizing, browsers =>
  prefix([&apos;box-sizing&apos;], {
    browsers,
    feature: &apos;css3-boxsizing&apos;
  })
)

// Filter Effects
let prefixFilters = require(&apos;caniuse-lite/data/features/css-filters&apos;)

f(prefixFilters, browsers =>
  prefix([&apos;filter&apos;], {
    browsers,
    feature: &apos;css-filters&apos;
  })
)

// filter() function
let prefixFilterFunction = require(&apos;caniuse-lite/data/features/css-filter-function&apos;)

f(prefixFilterFunction, browsers =>
  prefix([&apos;filter-function&apos;], {
    browsers,
    feature: &apos;css-filter-function&apos;,
    props: [
      &apos;background&apos;,
      &apos;background-image&apos;,
      &apos;border-image&apos;,
      &apos;mask&apos;,
      &apos;list-style&apos;,
      &apos;list-style-image&apos;,
      &apos;content&apos;,
      &apos;mask-image&apos;
    ]
  })
)

// Backdrop-filter
let prefixBackdropFilter = require(&apos;caniuse-lite/data/features/css-backdrop-filter&apos;)

f(prefixBackdropFilter, { match: /y\sx|y\s#2/ }, browsers =>
  prefix([&apos;backdrop-filter&apos;], {
    browsers,
    feature: &apos;css-backdrop-filter&apos;
  })
)

// element() function
let prefixElementFunction = require(&apos;caniuse-lite/data/features/css-element-function&apos;)

f(prefixElementFunction, browsers =>
  prefix([&apos;element&apos;], {
    browsers,
    feature: &apos;css-element-function&apos;,
    props: [
      &apos;background&apos;,
      &apos;background-image&apos;,
      &apos;border-image&apos;,
      &apos;mask&apos;,
      &apos;list-style&apos;,
      &apos;list-style-image&apos;,
      &apos;content&apos;,
      &apos;mask-image&apos;
    ]
  })
)

// Multicolumns
let prefixMulticolumns = require(&apos;caniuse-lite/data/features/multicolumn&apos;)

f(prefixMulticolumns, browsers => {
  prefix(
    [
      &apos;columns&apos;,
      &apos;column-width&apos;,
      &apos;column-gap&apos;,
      &apos;column-rule&apos;,
      &apos;column-rule-color&apos;,
      &apos;column-rule-width&apos;,
      &apos;column-count&apos;,
      &apos;column-rule-style&apos;,
      &apos;column-span&apos;,
      &apos;column-fill&apos;
    ],
    {
      browsers,
      feature: &apos;multicolumn&apos;
    }
  )

  let noff = browsers.filter(i => !/firefox/.test(i))
  prefix([&apos;break-before&apos;, &apos;break-after&apos;, &apos;break-inside&apos;], {
    browsers: noff,
    feature: &apos;multicolumn&apos;
  })
})

// User select
let prefixUserSelect = require(&apos;caniuse-lite/data/features/user-select-none&apos;)

f(prefixUserSelect, browsers =>
  prefix([&apos;user-select&apos;], {
    browsers,
    feature: &apos;user-select-none&apos;,
    mistakes: [&apos;-khtml-&apos;]
  })
)

// Flexible Box Layout
let prefixFlexbox = require(&apos;caniuse-lite/data/features/flexbox&apos;)

f(prefixFlexbox, { match: /a\sx/ }, browsers => {
  browsers = browsers.map(i => {
    if (/ie|firefox/.test(i)) {
      return i
    } else {
      return `${i} 2009`
    }
  })
  prefix([&apos;display-flex&apos;, &apos;inline-flex&apos;], {
    browsers,
    feature: &apos;flexbox&apos;,
    props: [&apos;display&apos;]
  })
  prefix([&apos;flex&apos;, &apos;flex-grow&apos;, &apos;flex-shrink&apos;, &apos;flex-basis&apos;], {
    browsers,
    feature: &apos;flexbox&apos;
  })
  prefix(
    [
      &apos;flex-direction&apos;,
      &apos;flex-wrap&apos;,
      &apos;flex-flow&apos;,
      &apos;justify-content&apos;,
      &apos;order&apos;,
      &apos;align-items&apos;,
      &apos;align-self&apos;,
      &apos;align-content&apos;
    ],
    {
      browsers,
      feature: &apos;flexbox&apos;
    }
  )
})

f(prefixFlexbox, { match: /y\sx/ }, browsers => {
  add([&apos;display-flex&apos;, &apos;inline-flex&apos;], {
    browsers,
    feature: &apos;flexbox&apos;
  })
  add([&apos;flex&apos;, &apos;flex-grow&apos;, &apos;flex-shrink&apos;, &apos;flex-basis&apos;], {
    browsers,
    feature: &apos;flexbox&apos;
  })
  add(
    [
      &apos;flex-direction&apos;,
      &apos;flex-wrap&apos;,
      &apos;flex-flow&apos;,
      &apos;justify-content&apos;,
      &apos;order&apos;,
      &apos;align-items&apos;,
      &apos;align-self&apos;,
      &apos;align-content&apos;
    ],
    {
      browsers,
      feature: &apos;flexbox&apos;
    }
  )
})

// calc() unit
let prefixCalc = require(&apos;caniuse-lite/data/features/calc&apos;)

f(prefixCalc, browsers =>
  prefix([&apos;calc&apos;], {
    browsers,
    feature: &apos;calc&apos;,
    props: [&apos;*&apos;]
  })
)

// Background options
let prefixBackgroundOptions = require(&apos;caniuse-lite/data/features/background-img-opts&apos;)

f(prefixBackgroundOptions, browsers =>
  prefix([&apos;background-origin&apos;, &apos;background-size&apos;], {
    browsers,
    feature: &apos;background-img-opts&apos;
  })
)

// background-clip: text
let prefixBackgroundClipText = require(&apos;caniuse-lite/data/features/background-clip-text&apos;)

f(prefixBackgroundClipText, browsers =>
  prefix([&apos;background-clip&apos;], {
    browsers,
    feature: &apos;background-clip-text&apos;
  })
)

// Font feature settings
let prefixFontFeature = require(&apos;caniuse-lite/data/features/font-feature&apos;)

f(prefixFontFeature, browsers =>
  prefix(
    [
      &apos;font-feature-settings&apos;,
      &apos;font-variant-ligatures&apos;,
      &apos;font-language-override&apos;
    ],
    {
      browsers,
      feature: &apos;font-feature&apos;
    }
  )
)

// CSS font-kerning property
let prefixFontKerning = require(&apos;caniuse-lite/data/features/font-kerning&apos;)

f(prefixFontKerning, browsers =>
  prefix([&apos;font-kerning&apos;], {
    browsers,
    feature: &apos;font-kerning&apos;
  })
)

// Border image
let prefixBorderImage = require(&apos;caniuse-lite/data/features/border-image&apos;)

f(prefixBorderImage, browsers =>
  prefix([&apos;border-image&apos;], {
    browsers,
    feature: &apos;border-image&apos;
  })
)

// Selection selector
let prefixSelection = require(&apos;caniuse-lite/data/features/css-selection&apos;)

f(prefixSelection, browsers =>
  prefix([&apos;::selection&apos;], {
    browsers,
    feature: &apos;css-selection&apos;,
    selector: true
  })
)

// Placeholder selector
let prefixPlaceholder = require(&apos;caniuse-lite/data/features/css-placeholder&apos;)

f(prefixPlaceholder, browsers => {
  prefix([&apos;::placeholder&apos;], {
    browsers: browsers.concat([&apos;ie 10 old&apos;, &apos;ie 11 old&apos;, &apos;firefox 18 old&apos;]),
    feature: &apos;css-placeholder&apos;,
    selector: true
  })
})

// Placeholder-shown selector
let prefixPlaceholderShown = require(&apos;caniuse-lite/data/features/css-placeholder-shown&apos;)

f(prefixPlaceholderShown, browsers => {
  prefix([&apos;:placeholder-shown&apos;], {
    browsers,
    feature: &apos;css-placeholder-shown&apos;,
    selector: true
  })
})

// Hyphenation
let prefixHyphens = require(&apos;caniuse-lite/data/features/css-hyphens&apos;)

f(prefixHyphens, browsers =>
  prefix([&apos;hyphens&apos;], {
    browsers,
    feature: &apos;css-hyphens&apos;
  })
)

// Fullscreen selector
let prefixFullscreen = require(&apos;caniuse-lite/data/features/fullscreen&apos;)

f(prefixFullscreen, browsers =>
  prefix([&apos;:fullscreen&apos;], {
    browsers,
    feature: &apos;fullscreen&apos;,
    selector: true
  })
)

// ::backdrop pseudo-element
// https://caniuse.com/mdn-css_selectors_backdrop
let prefixBackdrop = require(&apos;caniuse-lite/data/features/mdn-css-backdrop-pseudo-element&apos;)

f(prefixBackdrop, browsers =>
  prefix([&apos;::backdrop&apos;], {
    browsers,
    feature: &apos;backdrop&apos;,
    selector: true
  })
)

// File selector button
let prefixFileSelectorButton = require(&apos;caniuse-lite/data/features/css-file-selector-button&apos;)

f(prefixFileSelectorButton, browsers =>
  prefix([&apos;::file-selector-button&apos;], {
    browsers,
    feature: &apos;file-selector-button&apos;,
    selector: true
  })
)

// :autofill
let prefixAutofill = require(&apos;caniuse-lite/data/features/css-autofill&apos;)

f(prefixAutofill, browsers =>
  prefix([&apos;:autofill&apos;], {
    browsers,
    feature: &apos;css-autofill&apos;,
    selector: true
  })
)

// Tab size
let prefixTabsize = require(&apos;caniuse-lite/data/features/css3-tabsize&apos;)

f(prefixTabsize, browsers =>
  prefix([&apos;tab-size&apos;], {
    browsers,
    feature: &apos;css3-tabsize&apos;
  })
)

// Intrinsic & extrinsic sizing
let prefixIntrinsic = require(&apos;caniuse-lite/data/features/intrinsic-width&apos;)

let sizeProps = [
  &apos;width&apos;,
  &apos;min-width&apos;,
  &apos;max-width&apos;,
  &apos;height&apos;,
  &apos;min-height&apos;,
  &apos;max-height&apos;,
  &apos;inline-size&apos;,
  &apos;min-inline-size&apos;,
  &apos;max-inline-size&apos;,
  &apos;block-size&apos;,
  &apos;min-block-size&apos;,
  &apos;max-block-size&apos;,
  &apos;grid&apos;,
  &apos;grid-template&apos;,
  &apos;grid-template-rows&apos;,
  &apos;grid-template-columns&apos;,
  &apos;grid-auto-columns&apos;,
  &apos;grid-auto-rows&apos;
]

f(prefixIntrinsic, browsers =>
  prefix([&apos;max-content&apos;, &apos;min-content&apos;], {
    browsers,
    feature: &apos;intrinsic-width&apos;,
    props: sizeProps
  })
)

f(prefixIntrinsic, { match: /x|\s#4/ }, browsers =>
  prefix([&apos;fill&apos;, &apos;fill-available&apos;], {
    browsers,
    feature: &apos;intrinsic-width&apos;,
    props: sizeProps
  })
)

f(prefixIntrinsic, { match: /x|\s#5/ }, browsers => {
  let ffFix = browsers.filter(i => {
    let [name, version] = i.split(&apos; &apos;)
    if (name === &apos;firefox&apos; || name === &apos;and_ff&apos;) {
      return parseInt(version) < 94
    } else {
      return true
    }
  })
  return prefix(['fit-content'], {
    browsers: ffFix,
    feature: 'intrinsic-width',
    props: sizeProps
  })
})

// Stretch value

let prefixStretch = require('caniuse-lite/data/features/css-width-stretch')

f(prefixStretch, browsers =>
  prefix(['stretch'], {
    browsers,
    feature: 'css-width-stretch',
    props: sizeProps
  })
)

// Zoom cursors
let prefixCursorsNewer = require('caniuse-lite/data/features/css3-cursors-newer')

f(prefixCursorsNewer, browsers =>
  prefix(['zoom-in', 'zoom-out'], {
    browsers,
    feature: 'css3-cursors-newer',
    props: ['cursor']
  })
)

// Grab cursors
let prefixCursorsGrab = require('caniuse-lite/data/features/css3-cursors-grab')

f(prefixCursorsGrab, browsers =>
  prefix(['grab', 'grabbing'], {
    browsers,
    feature: 'css3-cursors-grab',
    props: ['cursor']
  })
)

// Sticky position
let prefixSticky = require('caniuse-lite/data/features/css-sticky')

f(prefixSticky, browsers =>
  prefix(['sticky'], {
    browsers,
    feature: 'css-sticky',
    props: ['position']
  })
)

// Pointer Events
let prefixPointer = require('caniuse-lite/data/features/pointer')

f(prefixPointer, browsers =>
  prefix(['touch-action'], {
    browsers,
    feature: 'pointer'
  })
)

// Text decoration
let prefixDecoration = require('caniuse-lite/data/features/text-decoration')

f(prefixDecoration, { match: /x.*#[235]/ }, browsers =>
  prefix(['text-decoration-skip', 'text-decoration-skip-ink'], {
    browsers,
    feature: 'text-decoration'
  })
)

let prefixDecorationShorthand = require('caniuse-lite/data/features/mdn-text-decoration-shorthand')

f(prefixDecorationShorthand, browsers =>
  prefix(['text-decoration'], {
    browsers,
    feature: 'text-decoration'
  })
)

let prefixDecorationColor = require('caniuse-lite/data/features/mdn-text-decoration-color')

f(prefixDecorationColor, browsers =>
  prefix(['text-decoration-color'], {
    browsers,
    feature: 'text-decoration'
  })
)

let prefixDecorationLine = require('caniuse-lite/data/features/mdn-text-decoration-line')

f(prefixDecorationLine, browsers =>
  prefix(['text-decoration-line'], {
    browsers,
    feature: 'text-decoration'
  })
)

let prefixDecorationStyle = require('caniuse-lite/data/features/mdn-text-decoration-style')

f(prefixDecorationStyle, browsers =>
  prefix(['text-decoration-style'], {
    browsers,
    feature: 'text-decoration'
  })
)

// Text Size Adjust
let prefixTextSizeAdjust = require('caniuse-lite/data/features/text-size-adjust')

f(prefixTextSizeAdjust, browsers =>
  prefix(['text-size-adjust'], {
    browsers,
    feature: 'text-size-adjust'
  })
)

// CSS Masks
let prefixCssMasks = require('caniuse-lite/data/features/css-masks')

f(prefixCssMasks, browsers => {
  prefix(
    [
      'mask-clip',
      'mask-composite',
      'mask-image',
      'mask-origin',
      'mask-repeat',
      'mask-border-repeat',
      'mask-border-source'
    ],
    {
      browsers,
      feature: 'css-masks'
    }
  )
  prefix(
    [
      'mask',
      'mask-position',
      'mask-size',
      'mask-border',
      'mask-border-outset',
      'mask-border-width',
      'mask-border-slice'
    ],
    {
      browsers,
      feature: 'css-masks'
    }
  )
})

// CSS clip-path property
let prefixClipPath = require('caniuse-lite/data/features/css-clip-path')

f(prefixClipPath, browsers =>
  prefix(['clip-path'], {
    browsers,
    feature: 'css-clip-path'
  })
)

// Fragmented Borders and Backgrounds
let prefixBoxdecoration = require('caniuse-lite/data/features/css-boxdecorationbreak')

f(prefixBoxdecoration, browsers =>
  prefix(['box-decoration-break'], {
    browsers,
    feature: 'css-boxdecorationbreak'
  })
)

// CSS3 object-fit/object-position
let prefixObjectFit = require('caniuse-lite/data/features/object-fit')

f(prefixObjectFit, browsers =>
  prefix(['object-fit', 'object-position'], {
    browsers,
    feature: 'object-fit'
  })
)

// CSS Shapes
let prefixShapes = require('caniuse-lite/data/features/css-shapes')

f(prefixShapes, browsers =>
  prefix(['shape-margin', 'shape-outside', 'shape-image-threshold'], {
    browsers,
    feature: 'css-shapes'
  })
)

// CSS3 text-overflow
let prefixTextOverflow = require('caniuse-lite/data/features/text-overflow')

f(prefixTextOverflow, browsers =>
  prefix(['text-overflow'], {
    browsers,
    feature: 'text-overflow'
  })
)

// Viewport at-rule
let prefixDeviceadaptation = require('caniuse-lite/data/features/css-deviceadaptation')

f(prefixDeviceadaptation, browsers =>
  prefix(['@viewport'], {
    browsers,
    feature: 'css-deviceadaptation'
  })
)

// Resolution Media Queries
let prefixResolut = require('caniuse-lite/data/features/css-media-resolution')

f(prefixResolut, { match: /( x($| )|a #2)/ }, browsers =>
  prefix(['@resolution'], {
    browsers,
    feature: 'css-media-resolution'
  })
)

// CSS text-align-last
let prefixTextAlignLast = require('caniuse-lite/data/features/css-text-align-last')

f(prefixTextAlignLast, browsers =>
  prefix(['text-align-last'], {
    browsers,
    feature: 'css-text-align-last'
  })
)

// Crisp Edges Image Rendering Algorithm
let prefixCrispedges = require('caniuse-lite/data/features/css-crisp-edges')

f(prefixCrispedges, { match: /y x|a x #1/ }, browsers =>
  prefix(['pixelated'], {
    browsers,
    feature: 'css-crisp-edges',
    props: ['image-rendering']
  })
)

f(prefixCrispedges, { match: /a x #2/ }, browsers =>
  prefix(['image-rendering'], {
    browsers,
    feature: 'css-crisp-edges'
  })
)

// Logical Properties
let prefixLogicalProps = require('caniuse-lite/data/features/css-logical-props')

f(prefixLogicalProps, browsers =>
  prefix(
    [
      'border-inline-start',
      'border-inline-end',
      'margin-inline-start',
      'margin-inline-end',
      'padding-inline-start',
      'padding-inline-end'
    ],
    {
      browsers,
      feature: 'css-logical-props'
    }
  )
)

f(prefixLogicalProps, { match: /x\s#2/ }, browsers =>
  prefix(
    [
      'border-block-start',
      'border-block-end',
      'margin-block-start',
      'margin-block-end',
      'padding-block-start',
      'padding-block-end'
    ],
    {
      browsers,
      feature: 'css-logical-props'
    }
  )
)

// CSS appearance
let prefixAppearance = require('caniuse-lite/data/features/css-appearance')

f(prefixAppearance, { match: /#2|x/ }, browsers =>
  prefix(['appearance'], {
    browsers,
    feature: 'css-appearance'
  })
)

// CSS Scroll snap points
let prefixSnappoints = require('caniuse-lite/data/features/css-snappoints')

f(prefixSnappoints, browsers =>
  prefix(
    [
      'scroll-snap-type',
      'scroll-snap-coordinate',
      'scroll-snap-destination',
      'scroll-snap-points-x',
      'scroll-snap-points-y'
    ],
    {
      browsers,
      feature: 'css-snappoints'
    }
  )
)

// CSS Regions
let prefixRegions = require('caniuse-lite/data/features/css-regions')

f(prefixRegions, browsers =>
  prefix(['flow-into', 'flow-from', 'region-fragment'], {
    browsers,
    feature: 'css-regions'
  })
)

// CSS image-set
let prefixImageSet = require('caniuse-lite/data/features/css-image-set')

f(prefixImageSet, browsers =>
  prefix(['image-set'], {
    browsers,
    feature: 'css-image-set',
    props: [
      'background',
      'background-image',
      'border-image',
      'cursor',
      'mask',
      'mask-image',
      'list-style',
      'list-style-image',
      'content'
    ]
  })
)

// Writing Mode
let prefixWritingMode = require('caniuse-lite/data/features/css-writing-mode')

f(prefixWritingMode, { match: /a|x/ }, browsers =>
  prefix(['writing-mode'], {
    browsers,
    feature: 'css-writing-mode'
  })
)

// Cross-Fade Function
let prefixCrossFade = require('caniuse-lite/data/features/css-cross-fade')

f(prefixCrossFade, browsers =>
  prefix(['cross-fade'], {
    browsers,
    feature: 'css-cross-fade',
    props: [
      'background',
      'background-image',
      'border-image',
      'mask',
      'list-style',
      'list-style-image',
      'content',
      'mask-image'
    ]
  })
)

// Read Only selector
let prefixReadOnly = require('caniuse-lite/data/features/css-read-only-write')

f(prefixReadOnly, browsers =>
  prefix([':read-only', ':read-write'], {
    browsers,
    feature: 'css-read-only-write',
    selector: true
  })
)

// Text Emphasize
let prefixTextEmphasis = require('caniuse-lite/data/features/text-emphasis')

f(prefixTextEmphasis, browsers =>
  prefix(
    [
      'text-emphasis',
      'text-emphasis-position',
      'text-emphasis-style',
      'text-emphasis-color'
    ],
    {
      browsers,
      feature: 'text-emphasis'
    }
  )
)

// CSS Grid Layout
let prefixGrid = require('caniuse-lite/data/features/css-grid')

f(prefixGrid, browsers => {
  prefix(['display-grid', 'inline-grid'], {
    browsers,
    feature: 'css-grid',
    props: ['display']
  })
  prefix(
    [
      'grid-template-columns',
      'grid-template-rows',
      'grid-row-start',
      'grid-column-start',
      'grid-row-end',
      'grid-column-end',
      'grid-row',
      'grid-column',
      'grid-area',
      'grid-template',
      'grid-template-areas',
      'place-self'
    ],
    {
      browsers,
      feature: 'css-grid'
    }
  )
})

f(prefixGrid, { match: /a x/ }, browsers =>
  prefix(['grid-column-align', 'grid-row-align'], {
    browsers,
    feature: 'css-grid'
  })
)

// CSS text-spacing
let prefixTextSpacing = require('caniuse-lite/data/features/css-text-spacing')

f(prefixTextSpacing, browsers =>
  prefix(['text-spacing'], {
    browsers,
    feature: 'css-text-spacing'
  })
)

// :any-link selector
let prefixAnyLink = require('caniuse-lite/data/features/css-any-link')

f(prefixAnyLink, browsers =>
  prefix([':any-link'], {
    browsers,
    feature: 'css-any-link',
    selector: true
  })
)

// unicode-bidi

let bidiIsolate = require('caniuse-lite/data/features/mdn-css-unicode-bidi-isolate')

f(bidiIsolate, browsers =>
  prefix(['isolate'], {
    browsers,
    feature: 'css-unicode-bidi',
    props: ['unicode-bidi']
  })
)

let bidiPlaintext = require('caniuse-lite/data/features/mdn-css-unicode-bidi-plaintext')

f(bidiPlaintext, browsers =>
  prefix(['plaintext'], {
    browsers,
    feature: 'css-unicode-bidi',
    props: ['unicode-bidi']
  })
)

let bidiOverride = require('caniuse-lite/data/features/mdn-css-unicode-bidi-isolate-override')

f(bidiOverride, { match: /y x/ }, browsers =>
  prefix(['isolate-override'], {
    browsers,
    feature: 'css-unicode-bidi',
    props: ['unicode-bidi']
  })
)

// overscroll-behavior selector
let prefixOverscroll = require('caniuse-lite/data/features/css-overscroll-behavior')

f(prefixOverscroll, { match: /a #1/ }, browsers =>
  prefix(['overscroll-behavior'], {
    browsers,
    feature: 'css-overscroll-behavior'
  })
)

// text-orientation
let prefixTextOrientation = require('caniuse-lite/data/features/css-text-orientation')

f(prefixTextOrientation, browsers =>
  prefix(['text-orientation'], {
    browsers,
    feature: 'css-text-orientation'
  })
)

// print-color-adjust
let prefixPrintAdjust = require('caniuse-lite/data/features/css-print-color-adjust')

f(prefixPrintAdjust, browsers =>
  prefix(['print-color-adjust', 'color-adjust'], {
    browsers,
    feature: 'css-print-color-adjust'
  })
)
